title: 浅析HTTP(1)
date: 2016-01-25 19:17:30
tags:
---
最近一直在学习HTTP相关知识，学到的知识总是要总结一下嘛，分几篇文章总结粗来~
这篇主要内容关于Web基础相关的，知识点都比较浅显易懂，恩，闲话就说到这里。
HTTP是因特网的传输媒介，是应用层协议，它把联网细节都交给了通用可靠的因特网传输协议：TCP/IP。大概的关系如图:![](/img/http2.png)当客户端与服务器沟通的时候就需要HTTP作为信使来传递消息，通常情况下，客户端会给服务器发送一条HTTP请求，请求需要的文档，服务器收到请求后经过处理就会给客户端做出一个响应，告诉客户端处理结果。当然这里我们说的客户端其实就是我们熟悉的浏览器。举个栗子🌰，当你在浏览器里输入<http://imwineki.cn/index.html>,然后按下回车键后，简单来说，就会发生以下这一些列的事情，如图，
![](/img/http1.png)浏览器就会向服务器www.imwineki.cn发送一条HTTP请求，此时服务器收到请求后，就会去寻找index.html的文档，找到了的话就会返回给浏览器文档信息。以及一个200的状态码，如果失败的话就会根据具体的错误情况返回具体的错误状态。
稍微复杂一点来说，当你按下回车后，http会解析URL的语法，通常包含：以下几种：
![](/img/http3.png)，获取到<http:imwineki.cn/index.html>使用的是http协议，同过DNS查询主机，获取到该域名下对应的服务器的IP地址，以及端口号（默认情况下是80端口），获取到服务器的IP地址后，然后会请求代理，此时如果我土豪的买了CDN服务的话，接下来代理就会将请求发送给缓存（CDN），缓存根据文件副本的新鲜度来决定返回客户端数据还是向原始服务器发出请求（这个知识点这里不细讲）,如图![](/img/http4.png)。
